"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const linter_1 = require("./linter");
const ES_EXTS = ['**/*.js', '**/*.jsx', '**/*.ts', '**/*.tsx'];
const STYLE_EXTS = [
    '**/*.less',
    '**/*.css',
    '**/*.sass',
    '**/*.scss',
    '**/*.styl',
];
exports.default = (opts, args) => {
    if (!args.eslintOnly) {
        const stylelint = new linter_1.StyleLinter(opts);
        const styleArgs = { ...args, _: [...args._] };
        if (!styleArgs.cssinjs) {
            for (const suffix of ES_EXTS) {
                styleArgs._.unshift('--ignore-pattern', suffix);
            }
        }
        stylelint.run(styleArgs);
    }
    if (!args.stylelintOnly) {
        const eslint = new linter_1.EsLinter(opts);
        const esArgs = { ...args, _: [...args._] };
        for (const suffix of STYLE_EXTS) {
            esArgs._.unshift('--ignore-pattern', suffix);
        }
        eslint.run(esArgs);
    }
};
