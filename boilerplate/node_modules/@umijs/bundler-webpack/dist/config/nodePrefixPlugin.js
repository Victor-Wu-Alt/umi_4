"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.addNodePrefixPlugin = void 0;
const webpack_1 = require("@umijs/bundler-webpack/compiled/webpack");
async function addNodePrefixPlugin(opts) {
    const { config } = opts;
    config.plugin('node-prefix-plugin').use(webpack_1.NormalModuleReplacementPlugin, [
        /^node:/,
        (resource) => {
            resource.request = resource.request.replace(/^node:/, '');
        },
    ]);
}
exports.addNodePrefixPlugin = addNodePrefixPlugin;
