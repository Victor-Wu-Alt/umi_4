"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.addIgnorePlugin = void 0;
const webpack_1 = require("@umijs/bundler-webpack/compiled/webpack");
async function addIgnorePlugin(opts) {
    const { config, userConfig } = opts;
    if (userConfig.ignoreMomentLocale) {
        config.plugin('ignore-moment-locale').use(webpack_1.IgnorePlugin, [
            {
                resourceRegExp: /^\.\/locale$/,
                contextRegExp: /moment$/,
            },
        ]);
    }
}
exports.addIgnorePlugin = addIgnorePlugin;
