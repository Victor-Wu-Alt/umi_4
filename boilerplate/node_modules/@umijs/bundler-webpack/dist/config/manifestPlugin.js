"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.addManifestPlugin = void 0;
// @ts-ignore
const webpack_manifest_plugin_1 = require("@umijs/bundler-webpack/compiled/webpack-manifest-plugin");
async function addManifestPlugin(opts) {
    const { config, userConfig } = opts;
    if (userConfig.manifest) {
        config.plugin('manifest-plugin').use(webpack_manifest_plugin_1.WebpackManifestPlugin, [
            {
                fileName: 'asset-manifest.json',
                ...userConfig.manifest,
            },
        ]);
    }
}
exports.addManifestPlugin = addManifestPlugin;
